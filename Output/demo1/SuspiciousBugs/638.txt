CREATE TABLE t0(c0 VARCHAR);
INSERT INTO t0 VALUES ('aaaaaaaaaaaa');
SELECT MAX(agg0) FROM (SELECT MAX(t0.c0) AS agg0 FROM t0) as s0; -- nondeterministic result or crash


CREATE TABLE t0 (c0 VARCHAR(255))
INSERT INTO t0 (c0) VALUES ('aaaaaaaaaaaa')
SELECT MAX(agg0) FROM (SELECT MAX(CAST(t0.c0 AS CHAR)) AS agg0 FROM t0) AS s0
SELECT MAX(agg0) FROM (SELECT MAX(CAST(t0.c0 AS CHAR)) AS agg0 FROM t0) AS s0 WHERE EXISTS(SELECT 1) UNION ALL SELECT MAX(agg0) FROM (SELECT MAX(CAST(t0.c0 AS CHAR)) AS agg0 FROM t0) AS s0 WHERE NOT (EXISTS(SELECT 1)) UNION ALL SELECT MAX(agg0) FROM (SELECT MAX(CAST(t0.c0 AS CHAR)) AS agg0 FROM t0) AS s0 WHERE (EXISTS(SELECT 1)) IS NULL;

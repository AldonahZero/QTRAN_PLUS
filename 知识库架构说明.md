# QTRANçŸ¥è¯†åº“æ¶æ„å®Œæ•´è¯´æ˜

## ğŸ—ï¸ ä¸‰å±‚çŸ¥è¯†åº“æ¶æ„

QTRANå®é™…ä¸Šæœ‰**ä¸‰ç§ä¸åŒç±»å‹çš„çŸ¥è¯†åº“**ï¼Œåˆ†åˆ«æœåŠ¡äºä¸åŒçš„ç›®çš„ï¼š

---

## 1ï¸âƒ£ é™æ€ç‰¹æ€§çŸ¥è¯†åº“ï¼ˆæ–‡ä»¶ç³»ç»Ÿï¼‰

### ğŸ“ FeatureKnowledgeBase/ - SQLæ•°æ®åº“ç‰¹æ€§çŸ¥è¯†

```
FeatureKnowledgeBase/
â”œâ”€â”€ mysql/
â”‚   â”œâ”€â”€ function/results/        # MySQLå‡½æ•°æ–‡æ¡£ï¼ˆABS, SIN, CONCATç­‰ï¼‰
â”‚   â”œâ”€â”€ operator/results/        # MySQLæ“ä½œç¬¦æ–‡æ¡£
â”‚   â”œâ”€â”€ datatype/results/        # MySQLæ•°æ®ç±»å‹æ–‡æ¡£
â”‚   â””â”€â”€ reference_table_results/ # å‚è€ƒè¡¨
â”œâ”€â”€ postgres/
â”‚   â”œâ”€â”€ function/results/
â”‚   â”œâ”€â”€ operator/results/
â”‚   â””â”€â”€ datatype/results/
â”œâ”€â”€ sqlite/
â”œâ”€â”€ mariadb/
â”œâ”€â”€ clickhouse/
â”œâ”€â”€ duckdb/
â”œâ”€â”€ monetdb/
â””â”€â”€ tidb/
```

**ç”¨é€”**ï¼š
- ğŸ“– ä»å®˜æ–¹æ–‡æ¡£æå–çš„æ•°æ®åº“ç‰¹æ€§
- ğŸ” ç”¨äºæ–¹è¨€ç‰¹å¾è¯†åˆ«
- ğŸ”„ ç”¨äºç‰¹å¾æ˜ å°„ï¼ˆA_DBç‰¹å¾ â†’ B_DBç‰¹å¾ï¼‰
- ğŸ“š é™æ€å‚è€ƒï¼Œä¸ä¼šæ”¹å˜

**ç¤ºä¾‹å†…å®¹**ï¼š
```json
{
  "Name": "ABS()",
  "Description": "Returns the absolute value of X",
  "Examples": ["SELECT ABS(2);", "SELECT ABS(-32);"],
  "Category": ["Mathematical Functions"],
  "Reference HTML": "https://dev.mysql.com/doc/..."
}
```

### ğŸ“ NoSQLFeatureKnowledgeBase/ - NoSQLæ•°æ®åº“ç‰¹æ€§çŸ¥è¯†

```
NoSQLFeatureKnowledgeBase/
â”œâ”€â”€ MongoDB/
â”‚   â”œâ”€â”€ mongodb_knowledge_graph.json  # æ“ä½œç¬¦å…³ç³»å›¾
â”‚   â”œâ”€â”€ mongodb_code_snippets.json    # ä»£ç ç‰‡æ®µ
â”‚   â””â”€â”€ extracted_api_patterns.json   # APIæ¨¡å¼
â”œâ”€â”€ Redis/
â”‚   â”œâ”€â”€ outputs/
â”‚   â”‚   â”œâ”€â”€ redis_commands_knowledge.json  # Rediså‘½ä»¤çŸ¥è¯†
â”‚   â”‚   â”œâ”€â”€ redis_semantic_kb.json         # è¯­ä¹‰çŸ¥è¯†åº“
â”‚   â”‚   â””â”€â”€ parsed_examples/               # è§£æçš„å‘½ä»¤ç¤ºä¾‹
â”‚   â””â”€â”€ inputs/
â”‚       â””â”€â”€ examples/                      # åŸå§‹ç¤ºä¾‹
â””â”€â”€ SurrealDB/
    â”œâ”€â”€ sql_to_surrealdb_mapping.json
    â””â”€â”€ surrealdb_translation_rules.json
```

**ç”¨é€”**ï¼š
- ğŸ“– NoSQLå‘½ä»¤å’ŒAPIæ–‡æ¡£
- ğŸ”„ SQLåˆ°NoSQLçš„æ˜ å°„è§„åˆ™
- ğŸ’¡ ç¿»è¯‘æ—¶çš„å‚è€ƒ
- ğŸ“š é™æ€çŸ¥è¯†ï¼Œæ‰‹å·¥æ•´ç†æˆ–çˆ¬å–

**ç¤ºä¾‹å†…å®¹**ï¼š
```json
{
  "operators": {
    "$eq": {
      "equivalent_forms": ["implicit_equality"],
      "used_with_methods": ["find"]
    }
  }
}
```

---

## 2ï¸âƒ£ åŠ¨æ€è¿è¡Œæ—¶çŸ¥è¯†åº“ï¼ˆQdrantå‘é‡æ•°æ®åº“ï¼‰

### å­˜å‚¨ä½ç½®ï¼šQdrant Collections

```
Qdrant Vector Database (http://localhost:6333)
â”œâ”€â”€ qtran_transfer_memory        # ç¿»è¯‘é˜¶æ®µè®°å¿†
â””â”€â”€ qtran_mutation_memories      # å˜å¼‚é˜¶æ®µè®°å¿†
```

### é€šè¿‡user_idåŒºåˆ†ç”¨é€”

#### ğŸ“š çŸ¥è¯†åº“ç±»å‹ï¼ˆ64æ¡ - åº”ä¿ç•™ï¼‰

**qtran_transfer_universal (45æ¡)**
- é€šç”¨ç¿»è¯‘çŸ¥è¯†å’Œæ¨¡å¼
- Oracleè¿è§„æ¨¡å¼
- è¦†ç›–çƒ­ç‚¹ç‰¹å¾
- è·¨æ•°æ®åº“çš„å…±æ€§è§„åˆ™

**qtran_*_hotspot (15æ¡)**
- é«˜ä»·å€¼çš„SQLç‰¹å¾ç»„åˆ
- å®¹æ˜“å‘ç°bugçš„æ¨¡å¼
- ç”¨äºæŒ‡å¯¼fuzzingæ–¹å‘
- è¦†ç›–ç‡å¢ç›Šä¿¡æ¯

**qtran_*_recommendation (4æ¡)**
- åŸºäºbugå‘ç°çš„ä¼˜åŒ–å»ºè®®
- ä¼˜å…ˆæµ‹è¯•çš„ç‰¹æ€§
- åå‘åé¦ˆæœºåˆ¶

#### ğŸ’¬ ä¼šè¯è®°å¿†ï¼ˆå·²æ¸…ç†ï¼‰
- qtran_{db1}_to_{db2}: ä¸´æ—¶ç¿»è¯‘ä¼šè¯
- ç¼ºå°‘ä¸Šä¸‹æ–‡ï¼Œå·²åˆ é™¤

---

## ğŸ”„ ä¸‰è€…çš„å…³ç³»å’Œä½¿ç”¨æµç¨‹

### ç¿»è¯‘æµç¨‹ä¸­çš„çŸ¥è¯†åº“è°ƒç”¨ï¼š

```
1. æ–¹è¨€ç‰¹å¾è¯†åˆ«
   â””â†’ ä½¿ç”¨ FeatureKnowledgeBase/
      è¯»å–æ•°æ®åº“çš„function/operator/datatype
      è¯†åˆ«SQLä¸­ä½¿ç”¨çš„ç‰¹æ€§

2. ç‰¹å¾æ˜ å°„
   â””â†’ ä½¿ç”¨ FeatureKnowledgeBase/
      A_DBç‰¹æ€§ â†’ B_DBç­‰ä»·ç‰¹æ€§
      ä¾‹å¦‚: SQLiteçš„ GLOB â†’ DuckDBçš„ LIKE

3. LLMç¿»è¯‘
   â””â†’ ä½¿ç”¨ QdrantåŠ¨æ€çŸ¥è¯†åº“
      æ£€ç´¢å†å²æˆåŠŸçš„ç¿»è¯‘æ¨¡å¼
      è·å–ç›¸ä¼¼åœºæ™¯çš„ç»éªŒ

4. NoSQLç¿»è¯‘
   â””â†’ ä½¿ç”¨ NoSQLFeatureKnowledgeBase/
      SQLè¯­å¥ â†’ NoSQLå‘½ä»¤
      å‚è€ƒæ˜ å°„è§„åˆ™å’ŒAPIæ–‡æ¡£
```

### æ¶æ„å›¾ï¼š

```
ç¿»è¯‘è¯·æ±‚: "SELECT ABS(c0) FROM t0 WHERE c0 > 0"
    â”‚
    â”œâ”€ æ­¥éª¤1: ç‰¹å¾è¯†åˆ«
    â”‚   â””â†’ FeatureKnowledgeBase/mysql/function/ABS.json
    â”‚       æå–: å‡½æ•°ABS()çš„è¯­ä¹‰å’Œç¤ºä¾‹
    â”‚
    â”œâ”€ æ­¥éª¤2: ç‰¹å¾æ˜ å°„
    â”‚   â””â†’ FeatureKnowledgeBase/duckdb/function/ABS.json
    â”‚       æ˜ å°„: MySQLçš„ABS() â†’ DuckDBçš„ABS()
    â”‚
    â”œâ”€ æ­¥éª¤3: å†å²ç»éªŒæ£€ç´¢
    â”‚   â””â†’ Qdrant: qtran_mysql_to_duckdb (ä¼šè¯è®°å¿†ï¼Œå·²åˆ é™¤)
    â”‚   â””â†’ Qdrant: qtran_transfer_universal (é€šç”¨çŸ¥è¯†)
    â”‚       æ£€ç´¢: "ABSå‡½æ•°çš„ç¿»è¯‘ç»éªŒ"
    â”‚       æ£€ç´¢: "WHEREæ¡ä»¶çš„ç¿»è¯‘æ¨¡å¼"
    â”‚
    â””â”€ æ­¥éª¤4: LLMç¿»è¯‘
        è¾“å…¥: åŸSQL + ç‰¹æ€§çŸ¥è¯† + å†å²ç»éªŒ
        è¾“å‡º: ç›®æ ‡æ•°æ®åº“çš„SQL
```

---

## ğŸ“Š çŸ¥è¯†åº“å¯¹æ¯”

| ç‰¹æ€§ | FeatureKnowledgeBase | NoSQLFeatureKnowledgeBase | QdrantåŠ¨æ€çŸ¥è¯†åº“ |
|------|---------------------|--------------------------|----------------|
| **ç±»å‹** | é™æ€æ–‡ä»¶ | é™æ€æ–‡ä»¶ | å‘é‡æ•°æ®åº“ |
| **å†…å®¹** | SQLç‰¹æ€§æ–‡æ¡£ | NoSQLå‘½ä»¤/API | è¿è¡Œæ—¶ç»éªŒ |
| **æ¥æº** | å®˜æ–¹æ–‡æ¡£çˆ¬å– | æ‰‹å·¥æ•´ç† | ç¿»è¯‘è¿‡ç¨‹ç§¯ç´¯ |
| **æ›´æ–°** | æ‰‹åŠ¨æ›´æ–° | æ‰‹åŠ¨æ›´æ–° | è‡ªåŠ¨ç§¯ç´¯ |
| **ç”¨é€”** | ç‰¹å¾è¯†åˆ«+æ˜ å°„ | SQLâ†’NoSQLæ˜ å°„ | å†å²ç»éªŒæ£€ç´¢ |
| **å¤§å°** | ~æ•°åƒä¸ªæ–‡ä»¶ | ~æ•°ç™¾ä¸ªæ–‡ä»¶ | 64æ¡çŸ¥è¯†+ä¼šè¯ |

---

## ğŸ¯ æ€»ç»“

### ä½ æåˆ°çš„ä¸¤ä¸ªç›®å½•ï¼š
âœ… **FeatureKnowledgeBase/** - SQLæ•°æ®åº“çš„**é™æ€**ç‰¹æ€§çŸ¥è¯†åº“  
âœ… **NoSQLFeatureKnowledgeBase/** - NoSQLæ•°æ®åº“çš„**é™æ€**ç‰¹æ€§çŸ¥è¯†åº“

### Qdrantä¸­çš„çŸ¥è¯†åº“ï¼š
ğŸ“š **qtran_transfer_universal** - é€šç”¨ç¿»è¯‘çŸ¥è¯†ï¼ˆ**åŠ¨æ€**ç§¯ç´¯ï¼‰  
ğŸ“š **qtran_*_hotspot** - è¦†ç›–çƒ­ç‚¹ï¼ˆ**åŠ¨æ€**ç§¯ç´¯ï¼‰  
ğŸ“š **qtran_*_recommendation** - ä¼˜åŒ–å»ºè®®ï¼ˆ**åŠ¨æ€**ç§¯ç´¯ï¼‰

### å®ƒä»¬çš„å…³ç³»ï¼š
```
é™æ€çŸ¥è¯†åº“ï¼ˆFeatureKnowledgeBase/ï¼‰
  â†“ æä¾›åŸºç¡€ç‰¹æ€§ä¿¡æ¯
  
ç¿»è¯‘è¿‡ç¨‹
  â†“ ç§¯ç´¯æˆåŠŸç»éªŒ
  
åŠ¨æ€çŸ¥è¯†åº“ï¼ˆQdrantï¼‰
  â†“ æŒ‡å¯¼åç»­ç¿»è¯‘
  
æ›´å¥½çš„ç¿»è¯‘è´¨é‡
```

---

## ğŸ’¾ å­˜å‚¨ä½ç½®æ€»ç»“

1. **FeatureKnowledgeBase/** â†’ æ–‡ä»¶ç³»ç»Ÿ `/root/QTRAN/FeatureKnowledgeBase/`
2. **NoSQLFeatureKnowledgeBase/** â†’ æ–‡ä»¶ç³»ç»Ÿ `/root/QTRAN/NoSQLFeatureKnowledgeBase/`
3. **Mem0åŠ¨æ€çŸ¥è¯†** â†’ Qdrantå‘é‡æ•°æ®åº“ `http://localhost:6333`
   - Collection: `qtran_transfer_memory`
   - Collection: `qtran_mutation_memories`

**éƒ½éœ€è¦ä¿ç•™ï¼** âœ…

